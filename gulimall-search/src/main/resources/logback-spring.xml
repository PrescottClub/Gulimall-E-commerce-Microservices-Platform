<?xml version="1.0" encoding="UTF-8"?>
<!--
scanï¼šå½“æ­¤å±žæ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æžœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrueã€?scanPeriodï¼šè®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æžœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±žæ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸?åˆ†é’Ÿã€?debugï¼šå½“æ­¤å±žæ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®žæ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€?-->
<configuration scan="false" scanPeriod="60 seconds" debug="false">
    <!-- å®šä¹‰æ—¥å¿—çš„æ ¹ç›®å½• -->
    <property name="LOG_HOME" value="/Java/Spring/mall/log" />
    <!-- å®šä¹‰æ—¥å¿—æ–‡ä»¶åç§° -->
    <property name="appName" value="mall-search"></property>
    <!-- ch.qos.logback.core.ConsoleAppender è¡¨ç¤ºæŽ§åˆ¶å°è¾“å‡?-->
    <appender name="stdout" class="ch.qos.logback.core.ConsoleAppender">
        <!--
        æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼?			%dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼?			%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ
			%-5levelï¼šçº§åˆ«ä»Žå·¦æ˜¾ç¤?ä¸ªå­—ç¬¦å®½åº?			%logger{50} è¡¨ç¤ºloggeråå­—æœ€é•?0ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€?
			%msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ
			%næ˜¯æ¢è¡Œç¬¦
        -->
        <layout class="ch.qos.logback.classic.PatternLayout">
            <springProfile name="dev">
                <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} --- [%thread] %-5level %logger{50} - %msg%n</pattern>
            </springProfile>
            <springProfile name="!dev">
                <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} : %msg%n</pattern>
            </springProfile>
        </layout>
    </appender>

    <!-- æ»šåŠ¨è®°å½•æ–‡ä»¶ï¼Œå…ˆå°†æ—¥å¿—è®°å½•åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œå½“ç¬¦åˆæŸä¸ªæ¡ä»¶æ—¶ï¼Œå°†æ—¥å¿—è®°å½•åˆ°å…¶ä»–æ–‡ä»¶ -->  
    <appender name="appLogAppender" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <!-- æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„åç§?-->
        <file>${LOG_HOME}/${appName}.log</file>
        <!--
        å½“å‘ç”Ÿæ»šåŠ¨æ—¶ï¼Œå†³å®?RollingFileAppender çš„è¡Œä¸ºï¼Œæ¶‰åŠæ–‡ä»¶ç§»åŠ¨å’Œé‡å‘½å
        TimeBasedRollingPolicyï¼?æœ€å¸¸ç”¨çš„æ»šåŠ¨ç­–ç•¥ï¼Œå®ƒæ ¹æ®æ—¶é—´æ¥åˆ¶å®šæ»šåŠ¨ç­–ç•¥ï¼Œæ—¢è´Ÿè´£æ»šåŠ¨ä¹Ÿè´Ÿè´£å‡ºå‘æ»šåŠ¨ã€?        -->
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!--
            æ»šåŠ¨æ—¶äº§ç”Ÿçš„æ–‡ä»¶çš„å­˜æ”¾ä½ç½®åŠæ–‡ä»¶åç§° %d{yyyy-MM-dd}ï¼šæŒ‰å¤©è¿›è¡Œæ—¥å¿—æ»šåŠ?
            %iï¼šå½“æ–‡ä»¶å¤§å°è¶…è¿‡maxFileSizeæ—¶ï¼ŒæŒ‰ç…§iè¿›è¡Œæ–‡ä»¶æ»šåŠ¨
            -->
            <fileNamePattern>${LOG_HOME}/${appName}-%d{yyyy-MM-dd}-%i.log</fileNamePattern>
            <!-- 
            å¯é€‰èŠ‚ç‚¹ï¼ŒæŽ§åˆ¶ä¿ç•™çš„å½’æ¡£æ–‡ä»¶çš„æœ€å¤§æ•°é‡ï¼Œè¶…å‡ºæ•°é‡å°±åˆ é™¤æ—§æ–‡ä»¶ã€‚å‡è®¾è®¾ç½®æ¯å¤©æ»šåŠ¨ï¼Œ
            ä¸”maxHistoryæ˜?65ï¼Œåˆ™åªä¿å­˜æœ€è¿?65å¤©çš„æ–‡ä»¶ï¼Œåˆ é™¤ä¹‹å‰çš„æ—§æ–‡ä»¶ã€‚æ³¨æ„ï¼Œåˆ é™¤æ—§æ–‡ä»¶æ˜¯ï¼?            é‚£äº›ä¸ºäº†å½’æ¡£è€Œåˆ›å»ºçš„ç›®å½•ä¹Ÿä¼šè¢«åˆ é™¤ã€?            -->
            <MaxHistory>365</MaxHistory>
            <!-- 
            å½“æ—¥å¿—æ–‡ä»¶è¶…è¿‡maxFileSizeæŒ‡å®šçš„å¤§å°æ˜¯ï¼Œæ ¹æ®ä¸Šé¢æåˆ°çš„%iè¿›è¡Œæ—¥å¿—æ–‡ä»¶æ»šåŠ¨ æ³¨æ„æ­¤å¤„é…ç½®SizeBasedTriggeringPolicyæ˜¯æ— æ³•å®žçŽ°æŒ‰æ–‡ä»¶å¤§å°è¿›è¡Œæ»šåŠ¨çš„ï¼Œå¿…é¡»é…ç½®timeBasedFileNamingAndTriggeringPolicy
            -->
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>100MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
        </rollingPolicy>
        <!-- æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼?-->     
        <layout class="ch.qos.logback.classic.PatternLayout">
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [ %thread ] - [ %-5level ] [ %logger{50} : %line ] - %msg%n</pattern>
        </layout>
    </appender>

    <!-- 
		loggerä¸»è¦ç”¨äºŽå­˜æ”¾æ—¥å¿—å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æ—¥å¿—ç±»åž‹ã€çº§åˆ?		nameï¼šè¡¨ç¤ºåŒ¹é…çš„loggerç±»åž‹å‰ç¼€ï¼Œä¹Ÿå°±æ˜¯åŒ…çš„å‰åŠéƒ¨åˆ†
		levelï¼šè¦è®°å½•çš„æ—¥å¿—çº§åˆ«ï¼ŒåŒ…æ‹¬ TRACE < DEBUG < INFO < WARN < ERROR
		additivityï¼šä½œç”¨åœ¨äºŽchildren-loggeræ˜¯å¦ä½¿ç”¨ rootLoggeré…ç½®çš„appenderè¿›è¡Œè¾“å‡ºï¼?		falseï¼šè¡¨ç¤ºåªç”¨å½“å‰loggerçš„appender-refï¼Œtrueï¼?		è¡¨ç¤ºå½“å‰loggerçš„appender-refå’ŒrootLoggerçš„appender-reféƒ½æœ‰æ•?    -->
    <!-- hibernate logger -->
    <logger name="com.firenay" level="INFO" />
    <!-- Spring framework logger -->
    <logger name="org.springframework" level="debug" additivity="false"></logger>

    <!--
    rootä¸Žloggeræ˜¯çˆ¶å­å…³ç³»ï¼Œæ²¡æœ‰ç‰¹åˆ«å®šä¹‰åˆ™é»˜è®¤ä¸ºrootï¼Œä»»ä½•ä¸€ä¸ªç±»åªä¼šå’Œä¸€ä¸ªloggerå¯¹åº”ï¼?    è¦ä¹ˆæ˜¯å®šä¹‰çš„loggerï¼Œè¦ä¹ˆæ˜¯rootï¼Œåˆ¤æ–­çš„å…³é”®åœ¨äºŽæ‰¾åˆ°è¿™ä¸ªloggerï¼Œç„¶åŽåˆ¤æ–­è¿™ä¸ªloggerçš„appenderå’Œlevelã€?
    -->
    <root level="INFO">
        <appender-ref ref="stdout" />
        <appender-ref ref="appLogAppender" />
    </root>
</configuration> 
